<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPIN Selling - Czƒô≈õƒá 3: Praktyka</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --situation-color: #2196F3;
            --problem-color: #F44336;
            --implication-color: #FF9800;
            --need-payoff-color: #4CAF50;
            --spin-gradient: linear-gradient(135deg, #2196F3 0%, #F44336 33%, #FF9800 66%, #4CAF50 100%);
            --bg-primary: #0a0e27;
            --bg-secondary: #1a1f3a;
            --text-primary: #ffffff;
            --text-secondary: #b0b8da;
            --accent: #00d4ff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .lesson-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .lesson-header {
            text-align: center;
            padding: 40px 20px;
            background: var(--spin-gradient);
            border-radius: 20px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .lesson-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .lesson-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .lesson-header p {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .progress-container {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 30px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--spin-gradient);
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-text {
            text-align: center;
            margin-top: 10px;
            color: var(--text-secondary);
        }

        .lesson-card {
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .lesson-card.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }

        .card-icon {
            font-size: 2rem;
        }

        .card-title-group {
            flex: 1;
            margin-left: 20px;
        }

        .card-title-group h2 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .card-subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .card-time {
            color: var(--accent);
            font-size: 0.9rem;
        }

        /* Card 9: Fill Blanks */
        .dialog-container {
            background: rgba(255,255,255,0.03);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            font-size: 1.15rem;
            line-height: 2;
        }

        .dialog-line {
            margin-bottom: 25px;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .speaker {
            font-weight: bold;
            color: var(--accent);
            min-width: 120px;
        }

        .blank-input {
            display: inline-block;
            background: rgba(255,255,255,0.1);
            border: 2px solid var(--accent);
            border-radius: 8px;
            padding: 8px 15px;
            color: white;
            font-size: 1rem;
            min-width: 200px;
            transition: all 0.3s ease;
        }

        .blank-input:focus {
            outline: none;
            background: rgba(255,255,255,0.15);
            box-shadow: 0 0 15px rgba(0,212,255,0.5);
        }

        .blank-input.correct {
            border-color: var(--need-payoff-color);
            background: rgba(76,175,80,0.2);
        }

        .blank-input.incorrect {
            border-color: var(--problem-color);
            background: rgba(244,67,54,0.2);
        }

        .blank-hint {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-style: italic;
            margin-top: 5px;
        }

        .fill-feedback {
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            text-align: center;
            display: none;
        }

        .fill-feedback.show {
            display: block;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fill-feedback.success {
            border: 2px solid var(--need-payoff-color);
            background: rgba(76,175,80,0.1);
        }

        .fill-feedback.partial {
            border: 2px solid var(--implication-color);
            background: rgba(255,152,0,0.1);
        }

        /* Card 10: Calculator */
        .calculator-container {
            background: rgba(255,255,255,0.03);
            padding: 40px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .calc-section {
            margin-bottom: 30px;
        }

        .calc-section h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--accent);
        }

        .calc-input-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
        }

        .calc-field {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid var(--accent);
        }

        .calc-field label {
            display: block;
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .calc-field input {
            width: 100%;
            background: var(--bg-primary);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            padding: 12px 15px;
            color: white;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .calc-field input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 15px rgba(0,212,255,0.3);
        }

        .calc-results {
            background: var(--spin-gradient);
            padding: 40px;
            border-radius: 15px;
            margin-top: 30px;
            display: none;
        }

        .calc-results.show {
            display: block;
            animation: slideUp 0.5s ease;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .result-row:last-child {
            border-bottom: none;
            font-size: 1.5rem;
            font-weight: bold;
            padding-top: 25px;
        }

        .result-label {
            font-size: 1.1rem;
        }

        .result-value {
            font-size: 1.3rem;
            font-weight: bold;
        }

        .roi-highlight {
            background: rgba(255,255,255,0.2);
            padding: 30px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
        }

        .roi-value {
            font-size: 3rem;
            font-weight: bold;
            margin: 15px 0;
        }

        /* Card 11: Speed Drill */
        .speed-drill-container {
            background: rgba(255,255,255,0.03);
            padding: 40px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .timer-display {
            text-align: center;
            margin-bottom: 30px;
        }

        .timer-value {
            font-size: 4rem;
            font-weight: bold;
            background: var(--spin-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .timer-label {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-top: 10px;
        }

        .quiz-question {
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border-left: 4px solid var(--accent);
            display: none;
        }

        .quiz-question.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .question-number {
            color: var(--accent);
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .quiz-option {
            background: var(--bg-primary);
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            text-align: center;
            font-size: 1.1rem;
        }

        .quiz-option:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }

        .quiz-option.selected {
            border-color: var(--accent);
        }

        .quiz-option.correct {
            background: rgba(76,175,80,0.3);
            border-color: var(--need-payoff-color);
        }

        .quiz-option.incorrect {
            background: rgba(244,67,54,0.3);
            border-color: var(--problem-color);
        }

        .quiz-results {
            background: var(--spin-gradient);
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            display: none;
        }

        .quiz-results.show {
            display: block;
            animation: slideUp 0.5s ease;
        }

        .quiz-score {
            font-size: 4rem;
            font-weight: bold;
            margin: 20px 0;
        }

        .quiz-badge {
            font-size: 2rem;
            margin: 20px 0;
        }

        .start-quiz-btn {
            background: var(--spin-gradient);
            border: none;
            padding: 20px 40px;
            border-radius: 15px;
            color: white;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 30px auto;
        }

        .start-quiz-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,212,255,0.4);
        }

        /* Navigation */
        .card-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid rgba(255,255,255,0.1);
        }

        .nav-btn {
            padding: 15px 30px;
            background: var(--spin-gradient);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,212,255,0.4);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .lesson-header h1 {
                font-size: 1.8rem;
            }

            .calc-input-group {
                grid-template-columns: 1fr;
            }

            .quiz-options {
                grid-template-columns: 1fr;
            }

            .timer-value {
                font-size: 3rem;
            }

            .quiz-score {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>
    <div class="lesson-container">
        <!-- Header -->
        <div class="lesson-header">
            <h1>üéØ SPIN Selling - Czƒô≈õƒá 3</h1>
            <p>Praktyka - Karty 9-11</p>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="progress-text">
                Karta <span id="currentCard">9</span> z <span id="totalCards">11</span>
            </div>
        </div>

        <!-- Card 9: Fill Blanks -->
        <div class="lesson-card active" data-card="9">
            <div class="card-header">
                <span class="card-icon">üìù</span>
                <div class="card-title-group">
                    <h2>Uzupe≈Çnij dialog SPIN</h2>
                    <span class="card-subtitle">Karta 9 z 11 ‚Ä¢ Fill Blanks</span>
                </div>
                <span class="card-time">‚è±Ô∏è 3 min</span>
            </div>

            <div class="fill-content">
                <p style="font-size: 1.2rem; margin-bottom: 30px; line-height: 1.8;">
                    Uzupe≈Çnij luki w dialogu. <strong>Wpisz w≈Ça≈õciwy typ pytania SPIN</strong> (Situation, Problem, Implication, Need-Payoff).
                </p>

                <div class="dialog-container">
                    <div class="dialog-line">
                        <span class="speaker">Sprzedawca:</span>
                        <span>"Ile os√≥b pracuje w dziale obs≈Çugi klienta?"</span>
                    </div>

                    <div class="dialog-line">
                        <span class="speaker">Klient:</span>
                        <span>"8 os√≥b."</span>
                    </div>

                    <div class="dialog-line">
                        <span class="speaker">Sprzedawca:</span>
                        <span>"Jakie <input type="text" class="blank-input" id="blank1" placeholder="?" data-answer="problem|problemy|wyzwania"> macie z czasem odpowiedzi na zapytania?"</span>
                        <div class="blank-hint">(Typ pytania SPIN)</div>
                    </div>

                    <div class="dialog-line">
                        <span class="speaker">Klient:</span>
                        <span>"Czasem odpowiadamy po 2-3 dniach. To za d≈Çugo."</span>
                    </div>

                    <div class="dialog-line">
                        <span class="speaker">Sprzedawca:</span>
                        <span>"Je≈õli klient czeka 3 dni, jaki to ma <input type="text" class="blank-input" id="blank2" placeholder="?" data-answer="wp≈Çyw|konsekwencje|skutki"> na wasze NPS?"</span>
                        <div class="blank-hint">(Typ pytania SPIN)</div>
                    </div>

                    <div class="dialog-line">
                        <span class="speaker">Klient:</span>
                        <span>"Pewnie spada. Mamy sporo negatywnych opinii ostatnio."</span>
                    </div>

                    <div class="dialog-line">
                        <span class="speaker">Sprzedawca:</span>
                        <span>"Gdyby≈õcie odpowiadali w 4 godziny, jak <input type="text" class="blank-input" id="blank3" placeholder="?" data-answer="wyglƒÖda≈Çaby|zmieni≈Çaby siƒô|poprawi≈Çaby siƒô"> satysfakcja klient√≥w?"</span>
                        <div class="blank-hint">(Typ pytania SPIN)</div>
                    </div>

                    <div class="dialog-line">
                        <span class="speaker">Klient:</span>
                        <span>"Na pewno lepiej. Mo≈ºe NPS wzr√≥s≈Çby o 20 punkt√≥w."</span>
                    </div>
                </div>

                <div style="background: rgba(255,255,255,0.05); padding: 25px; border-radius: 15px; margin-top: 30px;">
                    <h3 style="margin-bottom: 15px; color: var(--accent);">üéØ Podpowiedzi:</h3>
                    <ul style="line-height: 2; font-size: 1.05rem;">
                        <li><strong style="color: var(--problem-color);">Problem:</strong> "Jakie wyzwania/problemy macie z..."</li>
                        <li><strong style="color: var(--implication-color);">Implication:</strong> "Jaki wp≈Çyw/konsekwencje ma to na..."</li>
                        <li><strong style="color: var(--need-payoff-color);">Need-Payoff:</strong> "Gdyby... jak by siƒô zmieni≈Ço/wyglƒÖda≈Çoby..."</li>
                    </ul>
                </div>

                <button class="nav-btn" onclick="checkFillBlanks()" style="margin-top: 30px; width: 100%;">
                    Sprawd≈∫ odpowiedzi
                </button>

                <div class="fill-feedback" id="fillFeedback">
                    <div id="fillFeedbackText"></div>
                </div>
            </div>

            <div class="card-navigation">
                <button class="nav-btn prev" onclick="prevCard()" disabled>‚Üê Poprzednia</button>
                <button class="nav-btn next" onclick="nextCard()">Nastƒôpna ‚Üí</button>
            </div>
        </div>

        <!-- Card 10: Calculator -->
        <div class="lesson-card" data-card="10">
            <div class="card-header">
                <span class="card-icon">üßÆ</span>
                <div class="card-title-group">
                    <h2>SPIN Impact Calculator</h2>
                    <span class="card-subtitle">Karta 10 z 11 ‚Ä¢ Calculator</span>
                </div>
                <span class="card-time">‚è±Ô∏è 3 min</span>
            </div>

            <div class="calculator-content">
                <p style="font-size: 1.2rem; margin-bottom: 30px; line-height: 1.8;">
                    Oblicz <strong>ROI u≈ºywania pyta≈Ñ Implication</strong> w rozmowie sprzeda≈ºowej.
                    Scenariusz: Firma traci leady przez brak systemu CRM.
                </p>

                <div class="calculator-container">
                    <div class="calc-section">
                        <h3>üìä Dane wej≈õciowe</h3>
                        <div class="calc-input-group">
                            <div class="calc-field">
                                <label>Liczba lead√≥w/miesiƒÖc:</label>
                                <input type="number" id="leadsPerMonth" value="100" min="0">
                            </div>
                            <div class="calc-field">
                                <label>% lead√≥w bez follow-up (gubi siƒô):</label>
                                <input type="number" id="lostLeadsPercent" value="15" min="0" max="100">
                            </div>
                        </div>
                        <div class="calc-input-group">
                            <div class="calc-field">
                                <label>≈örednia warto≈õƒá dealu (PLN):</label>
                                <input type="number" id="avgDealValue" value="5000" min="0">
                            </div>
                            <div class="calc-field">
                                <label>Conversion rate (%):</label>
                                <input type="number" id="conversionRate" value="20" min="0" max="100">
                            </div>
                        </div>
                    </div>

                    <div class="calc-section">
                        <h3>üí∞ Koszt rozwiƒÖzania</h3>
                        <div class="calc-input-group">
                            <div class="calc-field">
                                <label>Koszt CRM rocznie (PLN):</label>
                                <input type="number" id="crmCost" value="12000" min="0">
                            </div>
                            <div class="calc-field">
                                <label>% odzyskanych lead√≥w z CRM:</label>
                                <input type="number" id="recoveryRate" value="80" min="0" max="100">
                            </div>
                        </div>
                    </div>

                    <button class="nav-btn" onclick="calculateROI()" style="width: 100%; margin-top: 20px;">
                        Oblicz ROI
                    </button>
                </div>

                <div class="calc-results" id="calcResults">
                    <div class="result-row">
                        <span class="result-label">Zgubione leady miesiƒôcznie:</span>
                        <span class="result-value" id="lostLeads">0</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">Utracona warto≈õƒá miesiƒôcznie:</span>
                        <span class="result-value" id="lostValue">0 PLN</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">Roczna strata:</span>
                        <span class="result-value" id="annualLoss">0 PLN</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">Odzyskana warto≈õƒá z CRM (rocznie):</span>
                        <span class="result-value" id="recoveredValue">0 PLN</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">üí∞ Zysk netto (po kosztach CRM):</span>
                        <span class="result-value" id="netProfit" style="color: var(--need-payoff-color);">0 PLN</span>
                    </div>

                    <div class="roi-highlight">
                        <div style="font-size: 1.3rem; margin-bottom: 10px;">Return on Investment (ROI)</div>
                        <div class="roi-value" id="roiPercent">0%</div>
                        <div style="font-size: 1.1rem; margin-top: 15px;">
                            CRM zwraca siƒô w <strong id="roiMonths">0</strong> miesiƒôcy
                        </div>
                    </div>
                </div>

                <div style="background: rgba(0,212,255,0.1); padding: 25px; border-radius: 15px; margin-top: 30px; border: 2px solid var(--accent);">
                    <h3 style="margin-bottom: 15px; color: var(--accent);">üí° Jak to dzia≈Ça w SPIN?</h3>
                    <p style="font-size: 1.05rem; line-height: 1.8;">
                        <strong>Problem Question:</strong> "Ile lead√≥w miesiƒôcznie siƒô gubi?"<br>
                        <strong>Implication Question:</strong> "Ile to kosztuje rocznie w utraconej sprzeda≈ºy?"<br>
                        <strong>Need-Payoff Question:</strong> "Gdyby CRM odzyska≈Ç 80% tych lead√≥w, ile zaoszczƒôdziliby≈õcie?"<br><br>
                        
                        Ten kalkulator pokazuje <strong>konkretne liczby</strong>, kt√≥re klient SAM oblicza w g≈Çowie dziƒôki Twoim pytaniom!
                    </p>
                </div>
            </div>

            <div class="card-navigation">
                <button class="nav-btn prev" onclick="prevCard()">‚Üê Poprzednia</button>
                <button class="nav-btn next" onclick="nextCard()">Nastƒôpna ‚Üí</button>
            </div>
        </div>

        <!-- Card 11: Speed Drill -->
        <div class="lesson-card" data-card="11">
            <div class="card-header">
                <span class="card-icon">‚ö°</span>
                <div class="card-title-group">
                    <h2>Speed Drill - SPIN w 60 sekund</h2>
                    <span class="card-subtitle">Karta 11 z 11 ‚Ä¢ Speed Quiz</span>
                </div>
                <span class="card-time">‚è±Ô∏è 2 min</span>
            </div>

            <div class="speed-drill-content">
                <p style="font-size: 1.2rem; margin-bottom: 30px; line-height: 1.8; text-align: center;">
                    <strong>8 pyta≈Ñ w 60 sekund!</strong> Sprawd≈∫ swojƒÖ znajomo≈õƒá SPIN pod presjƒÖ czasu.
                </p>

                <div class="timer-display" id="timerDisplay">
                    <div class="timer-value" id="timerValue">60</div>
                    <div class="timer-label">sekund pozosta≈Ço</div>
                </div>

                <button class="start-quiz-btn" id="startQuizBtn" onclick="startQuiz()">
                    üöÄ Start Quiz!
                </button>

                <div class="speed-drill-container" id="quizContainer" style="display: none;">
                    <!-- Question 1 -->
                    <div class="quiz-question" data-question="1">
                        <div class="question-number">Pytanie 1/8</div>
                        <div class="question-text">Situation Questions powinny trwaƒá po≈Çowƒô rozmowy</div>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="false" onclick="selectAnswer(this, 1)">‚ùå FALSE</div>
                            <div class="quiz-option" data-answer="true" onclick="selectAnswer(this, 1)">‚úÖ TRUE</div>
                        </div>
                    </div>

                    <!-- Question 2 -->
                    <div class="quiz-question" data-question="2">
                        <div class="question-number">Pytanie 2/8</div>
                        <div class="question-text">Problem Questions odkrywajƒÖ b√≥l klienta</div>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="false" onclick="selectAnswer(this, 2)">‚ùå FALSE</div>
                            <div class="quiz-option" data-answer="true" onclick="selectAnswer(this, 2)">‚úÖ TRUE</div>
                        </div>
                    </div>

                    <!-- Question 3 -->
                    <div class="quiz-question" data-question="3">
                        <div class="question-number">Pytanie 3/8</div>
                        <div class="question-text">Implication pokazuje koszt ROZWIƒÑZANIA (a nie problemu)</div>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="false" onclick="selectAnswer(this, 3)">‚ùå FALSE</div>
                            <div class="quiz-option" data-answer="true" onclick="selectAnswer(this, 3)">‚úÖ TRUE</div>
                        </div>
                    </div>

                    <!-- Question 4 -->
                    <div class="quiz-question" data-question="4">
                        <div class="question-number">Pytanie 4/8</div>
                        <div class="question-text">Need-Payoff = klient SAM opisuje korzy≈õci</div>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="false" onclick="selectAnswer(this, 4)">‚ùå FALSE</div>
                            <div class="quiz-option" data-answer="true" onclick="selectAnswer(this, 4)">‚úÖ TRUE</div>
                        </div>
                    </div>

                    <!-- Question 5 -->
                    <div class="quiz-question" data-question="5">
                        <div class="question-number">Pytanie 5/8</div>
                        <div class="question-text">W small sale u≈ºywaj WIƒòCEJ Implication Questions</div>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="false" onclick="selectAnswer(this, 5)">‚ùå FALSE</div>
                            <div class="quiz-option" data-answer="true" onclick="selectAnswer(this, 5)">‚úÖ TRUE</div>
                        </div>
                    </div>

                    <!-- Question 6 -->
                    <div class="quiz-question" data-question="6">
                        <div class="question-number">Pytanie 6/8</div>
                        <div class="question-text">SPIN dzia≈Ça tylko w B2B (nie w B2C)</div>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="false" onclick="selectAnswer(this, 6)">‚ùå FALSE</div>
                            <div class="quiz-option" data-answer="true" onclick="selectAnswer(this, 6)">‚úÖ TRUE</div>
                        </div>
                    </div>

                    <!-- Question 7 -->
                    <div class="quiz-question" data-question="7">
                        <div class="question-number">Pytanie 7/8</div>
                        <div class="question-text">Prezentuj produkt PRZED pytaniami Need-Payoff</div>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="false" onclick="selectAnswer(this, 7)">‚ùå FALSE</div>
                            <div class="quiz-option" data-answer="true" onclick="selectAnswer(this, 7)">‚úÖ TRUE</div>
                        </div>
                    </div>

                    <!-- Question 8 -->
                    <div class="quiz-question" data-question="8">
                        <div class="question-number">Pytanie 8/8</div>
                        <div class="question-text">Implication Questions budujƒÖ urgency (pilno≈õƒá)</div>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="false" onclick="selectAnswer(this, 8)">‚ùå FALSE</div>
                            <div class="quiz-option" data-answer="true" onclick="selectAnswer(this, 8)">‚úÖ TRUE</div>
                        </div>
                    </div>
                </div>

                <div class="quiz-results" id="quizResults">
                    <h2 style="font-size: 2rem; margin-bottom: 20px;">Tw√≥j wynik:</h2>
                    <div class="quiz-score" id="quizScore">0/8</div>
                    <div class="quiz-badge" id="quizBadge"></div>
                    <div style="font-size: 1.2rem; margin-top: 20px;">
                        Czas: <strong id="quizTime">0s</strong>
                    </div>
                    <p style="font-size: 1.1rem; margin-top: 20px; line-height: 1.8;" id="quizMessage"></p>
                </div>
            </div>

            <div class="card-navigation">
                <button class="nav-btn prev" onclick="prevCard()">‚Üê Poprzednia</button>
                <button class="nav-btn next" onclick="nextCard()" disabled>Koniec Czƒô≈õci 3 ‚úì</button>
            </div>
        </div>

    </div>

    <script>
        let currentCard = 9;
        const totalCards = 11;

        // Progress
        function updateProgress() {
            const progress = ((currentCard - 8) / 3) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentCard').textContent = currentCard;
        }

        function showCard(cardNumber) {
            document.querySelectorAll('.lesson-card').forEach(card => {
                card.classList.remove('active');
            });
            const card = document.querySelector(`[data-card="${cardNumber}"]`);
            if (card) {
                card.classList.add('active');
                currentCard = cardNumber;
                updateProgress();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function nextCard() {
            if (currentCard < totalCards) {
                showCard(currentCard + 1);
            }
        }

        function prevCard() {
            if (currentCard > 9) {
                showCard(currentCard - 1);
            }
        }

        // Card 9: Fill Blanks
        function checkFillBlanks() {
            const answers = [
                { id: 'blank1', correct: ['problem', 'problemy', 'wyzwania'], type: 'Problem' },
                { id: 'blank2', correct: ['wp≈Çyw', 'konsekwencje', 'skutki'], type: 'Implication' },
                { id: 'blank3', correct: ['wyglƒÖda≈Çaby', 'zmieni≈Çaby siƒô', 'poprawi≈Çaby siƒô'], type: 'Need-Payoff' }
            ];

            let correctCount = 0;
            
            answers.forEach(answer => {
                const input = document.getElementById(answer.id);
                const userAnswer = input.value.toLowerCase().trim();
                const isCorrect = answer.correct.some(correct => userAnswer.includes(correct));
                
                if (isCorrect) {
                    input.classList.add('correct');
                    input.classList.remove('incorrect');
                    correctCount++;
                } else {
                    input.classList.add('incorrect');
                    input.classList.remove('correct');
                }
            });

            const feedback = document.getElementById('fillFeedback');
            const feedbackText = document.getElementById('fillFeedbackText');
            
            if (correctCount === 3) {
                feedback.className = 'fill-feedback success show';
                feedbackText.innerHTML = `
                    <strong style="font-size: 1.5rem;">üéØ Perfekcyjnie!</strong><br><br>
                    Rozumiesz sekwencjƒô SPIN: Problem ‚Üí Implication ‚Üí Need-Payoff<br>
                    Ka≈ºde pytanie prowadzi klienta g≈Çƒôbiej w kierunku decyzji!
                `;
            } else {
                feedback.className = 'fill-feedback partial show';
                feedbackText.innerHTML = `
                    <strong style="font-size: 1.3rem;">Wynik: ${correctCount}/3</strong><br><br>
                    Pytanie 1: <strong style="color: var(--problem-color);">Problem</strong> (odkrywa wyzwania)<br>
                    Pytanie 2: <strong style="color: var(--implication-color);">Implication</strong> (pog≈Çƒôbia konsekwencje)<br>
                    Pytanie 3: <strong style="color: var(--need-payoff-color);">Need-Payoff</strong> (klient wizualizuje warto≈õƒá)
                `;
            }
        }

        // Card 10: Calculator
        function calculateROI() {
            const leadsPerMonth = parseInt(document.getElementById('leadsPerMonth').value);
            const lostPercent = parseInt(document.getElementById('lostLeadsPercent').value);
            const avgDeal = parseInt(document.getElementById('avgDealValue').value);
            const conversion = parseInt(document.getElementById('conversionRate').value);
            const crmCost = parseInt(document.getElementById('crmCost').value);
            const recovery = parseInt(document.getElementById('recoveryRate').value);

            // Calculate
            const lostLeads = Math.round(leadsPerMonth * (lostPercent / 100));
            const lostValue = Math.round(lostLeads * avgDeal * (conversion / 100));
            const annualLoss = lostValue * 12;
            const recoveredValue = Math.round(annualLoss * (recovery / 100));
            const netProfit = recoveredValue - crmCost;
            const roiPercent = Math.round((netProfit / crmCost) * 100);
            const roiMonths = crmCost > 0 ? Math.round((crmCost / recoveredValue) * 12) : 0;

            // Display
            document.getElementById('lostLeads').textContent = lostLeads;
            document.getElementById('lostValue').textContent = lostValue.toLocaleString('pl-PL') + ' PLN';
            document.getElementById('annualLoss').textContent = annualLoss.toLocaleString('pl-PL') + ' PLN';
            document.getElementById('recoveredValue').textContent = recoveredValue.toLocaleString('pl-PL') + ' PLN';
            document.getElementById('netProfit').textContent = netProfit.toLocaleString('pl-PL') + ' PLN';
            document.getElementById('roiPercent').textContent = roiPercent + '%';
            document.getElementById('roiMonths').textContent = roiMonths;

            document.getElementById('calcResults').classList.add('show');
        }

        // Card 11: Speed Drill
        let quizTimer;
        let timeLeft = 60;
        let currentQuestion = 1;
        let quizAnswers = {};
        let quizStartTime;

        const correctAnswers = {
            1: 'false',  // Situation NIE powinna trwaƒá po≈Çowƒô rozmowy
            2: 'true',   // Problem odkrywa b√≥l
            3: 'false',  // Implication pokazuje koszt NIErozwiƒÖzania (nie rozwiƒÖzania)
            4: 'true',   // Need-Payoff = klient opisuje
            5: 'false',  // Small sale = MNIEJ Implication
            6: 'false',  // SPIN dzia≈Ça wszƒôdzie (nie tylko B2B)
            7: 'false',  // Prezentuj PO Need-Payoff
            8: 'true'    // Implication buduje urgency
        };

        function startQuiz() {
            document.getElementById('startQuizBtn').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            showQuestion(1);
            quizStartTime = Date.now();
            
            quizTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('timerValue').textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    endQuiz();
                }
            }, 1000);
        }

        function showQuestion(num) {
            document.querySelectorAll('.quiz-question').forEach(q => {
                q.classList.remove('active');
            });
            document.querySelector(`[data-question="${num}"]`).classList.add('active');
        }

        function selectAnswer(element, questionNum) {
            const answer = element.dataset.answer;
            quizAnswers[questionNum] = answer;
            
            // Mark as selected
            element.parentElement.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            
            // Auto-advance to next question
            if (questionNum < 8) {
                setTimeout(() => {
                    showQuestion(questionNum + 1);
                }, 300);
            } else {
                // Last question - end quiz
                setTimeout(() => {
                    endQuiz();
                }, 500);
            }
        }

        function endQuiz() {
            clearInterval(quizTimer);
            
            // Calculate score
            let score = 0;
            for (let i = 1; i <= 8; i++) {
                if (quizAnswers[i] === correctAnswers[i]) {
                    score++;
                }
                
                // Show correct/incorrect
                const question = document.querySelector(`[data-question="${i}"]`);
                question.querySelectorAll('.quiz-option').forEach(opt => {
                    if (opt.dataset.answer === correctAnswers[i]) {
                        opt.classList.add('correct');
                    } else if (opt.classList.contains('selected')) {
                        opt.classList.add('incorrect');
                    }
                });
            }
            
            const timeTaken = 60 - timeLeft;
            
            // Display results
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('quizScore').textContent = `${score}/8`;
            document.getElementById('quizTime').textContent = timeTaken + 's';
            
            let badge = '';
            let message = '';
            
            if (score === 8 && timeTaken <= 30) {
                badge = 'üèÜ SPIN Legend';
                message = 'Perfekcyjny wynik w rekordowym czasie! Jeste≈õ mistrzem SPIN!';
            } else if (score >= 7) {
                badge = '‚≠ê SPIN Expert';
                message = '≈öwietna znajomo≈õƒá SPIN! Jeste≈õ gotowy do praktyki.';
            } else if (score >= 5) {
                badge = '‚úÖ Good Job';
                message = 'Dobry wynik! Przejrzyj Czƒô≈õci 1-2 jeszcze raz.';
            } else {
                badge = 'üìö Study More';
                message = 'Wr√≥ƒá do teorii (Czƒô≈õƒá 1) i spr√≥buj ponownie.';
            }
            
            document.getElementById('quizBadge').textContent = badge;
            document.getElementById('quizMessage').textContent = message;
            document.getElementById('quizResults').classList.add('show');
        }

        // Initialize
        updateProgress();

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowRight') nextCard();
            else if (event.key === 'ArrowLeft') prevCard();
        });
    </script>
</body>
</html>